(this["webpackJsonptantive-star-wars"]=this["webpackJsonptantive-star-wars"]||[]).push([[0],{25:function(e,t,a){e.exports=a(45)},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),i=(a(30),a(24)),s=a(9),l=a(10),u=a(12),m=a(11),f=a(13),h=a(6),v=a(20),d=(a(31),a(2)),p=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.sendUpState=function(){(0,e.props.userInfo)(e.state)},e.state={name:"",quote:"",rank:""},e}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.rank,o=t.quote;return r.a.createElement("div",null,r.a.createElement("h1",null,"Star Wars Trivia"),r.a.createElement("img",{className:"yoda_head",src:"http://pluspng.com/img-png/yoda-head-png-download-800.gif",alt:"yoda's face"}),r.a.createElement("h2",{className:"tantive_heading"},"Tantive Edition"),r.a.createElement("form",null,r.a.createElement("input",{className:"user-name",placeholder:"Must Name Here",type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{className:"user-quote",placeholder:"Quote Favourite",type:"text",name:"quote",value:this.state.quote,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("p",null,"What Knowledge have you from Star Wars?"),r.a.createElement("section",null,r.a.createElement("button",{className:"knowledge_button",type:"button",name:"rank",value:"Novice",onClick:function(t){return e.handleChange(t)}},"Novice"),r.a.createElement("button",{className:"knowledge_button",type:"button",name:"rank",value:"Intermediate",onClick:function(t){return e.handleChange(t)}},"Intermediate"),r.a.createElement("button",{className:"knowledge_button",type:"button",name:"rank",value:"Expert",onClick:function(t){return e.handleChange(t)}},"Expert")),""===a||""===o||""===n?r.a.createElement("button",{className:"submit-btn-error",disabled:!0}," Inputs Must Fill "):r.a.createElement(d.b,{to:"/movies"},r.a.createElement("button",{onClick:this.sendUpState,className:"submit-btn"},"Submit"))))}}]),t}(n.Component),E=(a(37),function(e){var t=e.map((function(e){return fetch(e).then((function(e){if(!e.ok)throw Error("Error fetching characters");return e.json()})).then((function(e){var t=g(e.homeworld).then((function(e){return e})),a=b(e.species).then((function(e){return e.species})),n=N(e.films).then((function(e){return e}));return Promise.all([t,a,n]).then((function(t){return{id:Date.now(),name:e.name,homeworld:t[0].name,population:t[0].population,species:t[1],films:t[2],isFavorite:!1}}))}))}));return Promise.all(t).then((function(e){return e}))}),g=function(e){return fetch(e).then((function(e){if(!e.ok)throw Error("Error fetching HomeWorld");return e.json()})).then((function(e){return{name:e.name,population:e.population}})).catch((function(e){return console.log(e)}))},b=function(e){return fetch(e).then((function(e){if(!e.ok)throw Error("Error fetching ideas");return e.json()})).then((function(e){return{species:e.name}})).catch((function(e){return console.log(e)}))},N=function(e){var t=e.map((function(e){return fetch(e).then((function(e){if(!e.ok)throw Error("Error fetching ideas");return e.json()})).then((function(e){return e.title})).catch((function(e){return console.log(e)}))}));return Promise.all(t)},k=(a(38),function(e){var t=e.title,a=e.episode_id,n=e.release_date,o=(e.id,e.characters),c=e.openingCrawl,i=e.setCharacters,s=e.addMovieScroll,l={title:t,episode_id:a,openingCrawl:c};return r.a.createElement("article",{className:"movieCard"},r.a.createElement("ul",null,r.a.createElement("li",null,t),r.a.createElement("li",null,"Episode: ",a),r.a.createElement("li",null,"Released in ",n),r.a.createElement(d.b,{to:"/scroll"},r.a.createElement("button",{className:"movie_card_btn",type:"submit",onClick:function(){i(o),s(l)}},"View Characters"))))}),w=(a(39),function(e){var t=e.movies,a=e.setCharacters,n=e.addMovieScroll,o=t.map((function(e){return r.a.createElement(k,{title:e.title,episode_id:e.episode_id,release_date:e.release_date,id:e.episode_id,characters:e.characters,openingCrawl:e.opening_crawl,key:e.episode_id,setCharacters:a,addMovieScroll:n})}));return r.a.createElement("section",{className:"movie-container"},o)}),C=(a(40),a(41),a(23)),_=function(e){var t=e.id,a=e.name,n=e.homeworld,o=e.population,c=e.species,i=e.films,s=e.toggleFavourites,l=e.favourites,u=i.map((function(e,t){return r.a.createElement("p",{key:t},e)})),m=l.includes(t)?"favourite-icon":"jedi-icon";return r.a.createElement("section",{className:"card"},r.a.createElement("p",{className:m,onClick:function(){return s(t)}},r.a.createElement(C.a,null)),r.a.createElement("h2",null,a),r.a.createElement("h3",null,"Homeworld:"),r.a.createElement("p",null,n),r.a.createElement("h3",null,"Population:"),r.a.createElement("p",null,o),r.a.createElement("h3",null,"Species: "),r.a.createElement("p",null,c),r.a.createElement("h3",null,"Seen in:"),u)},O=function(e){var t=e.characters,a=e.toggleFavourites,n=e.favourites,o=t.map((function(e){return r.a.createElement(_,Object.assign({key:e.name},e,{toggleFavourites:a,favourites:n}))}));return r.a.createElement("section",{className:"characters"},o)},S=(a(42),function(e){var t=e.userName,a=e.userQuote,n=e.userRank,o=e.favCount,c=e.resetOnLogOut;return r.a.createElement("nav",null,r.a.createElement("div",null,r.a.createElement("img",{src:"https://am22.akamaized.net/tms/cnt/uploads/2017/08/leiatop1-650x574.jpg",alt:"Princess Leia"}),r.a.createElement("h2",null,t),r.a.createElement("h3",null,'"',a,'"'),r.a.createElement("h3",null,n)),r.a.createElement("div",{className:"nav-links"},r.a.createElement(d.c,{to:"/movies",className:"nav",activeClassName:"active-nav"},"Movies"),r.a.createElement(d.c,{to:"/favourites",className:"nav",activeClassName:"active-nav"},"Favourites ",o),r.a.createElement(d.c,{exact:!0,to:"/"}," ",r.a.createElement("button",{className:"nav",onClick:function(){return c()}}," Log Out ")," ")))}),y=(a(43),function(e){var t=e.toggleFavourites,a=e.favourites,n=e.characters;if(0===a.length)return r.a.createElement("section",{className:"blank_error"},r.a.createElement("h2",{className:"fav_h2"},"Want to see your favorite character!"),r.a.createElement("h3",{className:"fav_h3"},"Go back to movies and select a few first."),r.a.createElement(d.b,{to:"/movies"},r.a.createElement("button",{className:"back_to_movies__btn"},"Back to Movies")));var o=n.map((function(e){if(a.includes(e.id))return r.a.createElement(_,{id:e.id,name:e.name,homeworld:e.homeworld,population:e.population,species:e.species,films:e.films,toggleFavourites:t,favourites:a})}));return r.a.createElement("section",{className:"favourite"},o)}),j=(a(44),function(e){var t=e.movieScroll;return r.a.createElement("section",null,r.a.createElement("section",{className:"scroll-text"},r.a.createElement("div",{className:"fade"}),r.a.createElement("section",{className:"star-wars-text"},r.a.createElement("div",{className:"crawl"},r.a.createElement("div",{className:"title-text"},r.a.createElement("p",null,"Episode ",t.episode_id),r.a.createElement("h3",null,t.title)),t.openingCrawl))),r.a.createElement(d.b,{to:"/movies/:id"},r.a.createElement("button",{className:"scroll-button"},"Continue to see characters..")))}),F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).userInfo=function(t){var a=t.name,n=t.quote,r=t.rank;e.setState({userName:a,userQuote:n,userRank:r})},e.setCharacters=function(t){E(t).then((function(t){return e.setState({characters:t})}))},e.toggleFavourites=function(t){e.state.favourites.includes(t)?e.deleteFavourites(t):e.addFavourites(t)},e.addFavourites=function(t){var a=e.state.favourites;return e.setState({favourites:[].concat(Object(i.a)(a),[t])})},e.deleteFavourites=function(t){var a=e.state.favourites.filter((function(e){return e!==t}));return e.setState({favourites:a})},e.resetOnLogOut=function(){e.setState({characters:[],userName:"",userQuote:"",userRank:"",favourites:[]})},e.addMovieScroll=function(t){e.setState({movieScroll:t})},e.state={movies:[],characters:[],userName:"",userQuote:"",userRank:"",isLoading:!0,favourites:[],movieScroll:{}},e}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://swapi.co/api/films/").then((function(e){if(!e.ok)throw Error("There was an error getting the data");return e.json()})).then((function(e){return e.results.map((function(e){var t=e.characters.slice(0,10);return{title:e.title,episode_id:e.episode_id,release_date:e.release_date.slice(0,4),characters:t,opening_crawl:e.opening_crawl}}))})).then((function(e){return e.sort((function(e,t){return e.episode_id-t.episode_id}))})).then((function(t){return e.setState({movies:t,isLoading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.userName,o=t.userQuote,c=t.userRank,i=t.favourites,s=t.movieScroll;return r.a.createElement("main",{className:"App"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(p,{userInfo:e.userInfo})}}),a?r.a.createElement("img",{className:"bb8-loading",src:"https://media.giphy.com/media/eEbiAqk9YUT5e/giphy.gif",alt:"BB8 gif"}):r.a.createElement(h.a,{exact:!0,path:"/movies",render:function(){return r.a.createElement("section",{className:"movie-section"},r.a.createElement(S,{userName:n,userQuote:o,userRank:c,favCount:i.length,resetOnLogOut:e.resetOnLogOut}),r.a.createElement(w,{movies:e.state.movies,userName:n,userQuote:o,userRank:c,setCharacters:e.setCharacters,addMovieScroll:e.addMovieScroll}))}}),r.a.createElement(h.a,{path:"/scroll",render:function(){return r.a.createElement(j,{movieScroll:s})}}),r.a.createElement(h.a,{path:"/movies/:id",render:function(){return r.a.createElement("section",{className:"movie-section"},r.a.createElement(S,{userName:n,userQuote:o,userRank:c,favCount:i.length,resetOnLogOut:e.resetOnLogOut}),r.a.createElement(O,{characters:e.state.characters,toggleFavourites:e.toggleFavourites,favourites:i}))}}),r.a.createElement(h.a,{path:"/favourites/",render:function(){return r.a.createElement("section",{className:"movie-section"},r.a.createElement(S,{userName:n,userQuote:o,userRank:c,favCount:i.length,resetOnLogOut:e.resetOnLogOut}),r.a.createElement(y,{movies:e.state.movies,characters:e.state.characters,toggleFavourites:e.toggleFavourites,favourites:i}))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=r.a.createElement(d.a,null,r.a.createElement(F,null));c.a.render(L,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.8b062e9a.chunk.js.map